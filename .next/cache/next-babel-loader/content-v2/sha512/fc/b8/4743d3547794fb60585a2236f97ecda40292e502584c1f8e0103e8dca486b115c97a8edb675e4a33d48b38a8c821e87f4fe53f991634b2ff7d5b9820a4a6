{"ast":null,"code":"export function apiRequest(path) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n  var data = arguments.length > 2 ? arguments[2] : undefined;\n  return fetch(\"/api/\".concat(path), {\n    method: method,\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: data ? JSON.stringify(data) : undefined\n  }).then(function (response) {\n    return response.json();\n  }).then(function (response) {\n    if (response.status === \"error\") {\n      throw new CustomError(response.code, response.message);\n    } else {\n      return response.data;\n    }\n  });\n} // Create an Error with custom message and code\n\nexport function CustomError(code, message) {\n  var error = new Error(message);\n  error.code = code;\n  return error;\n}","map":null,"metadata":{},"sourceType":"module"}